<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>一颗爱心送给你</title>
  <style>
    #main{ width:500px;
      height:500px;
      position:absolute;
    }
    #a{ width:300px;
      height:300px;
      background:#F00;
      position:absolute;
      top:0;
      left:0;
      border-radius:50%;
    }
    #b{ width:300px;
      height:300px;
      background:#F00;
      position:absolute;
      top:0;
      right:0;
      border-radius:50%;
    }
    #c{ width:300px;
      height:300px;
      background:#F00;
      transform:translate(100px,100px) rotate(45deg);
    }
  </style>
</head>

<body>

<div id="main">

  <div id="a"></div>
  <div id="b"></div>
  <div id="c"></div>

</div>
<script type="text/javascript">
  var fl = document.getElementById('main');
  var chroX = document.documentElement.clientWidth;
  var chroY = document.documentElement.clientHeight;
  var offsetLeft = fl.offsetLeft;
  var offsetTop = fl.offsetTop;
  var timer = 0;
  console.log(offsetTop)
  var x = 20;
  var y = 20;
  window.onresize = function(){
    chroX = document.documentElement.clientWidth;
    chroY = document.documentElement.clientHeight;
  }
  function move(){
    offsetLeft += x;
    offsetTop += y;
    fl.style.left = offsetLeft  + 'px';
    fl.style.top = offsetTop  + 'px';
    console.log(chroY)
  }
  window.onload = function(){
    timer = setInterval(function(){
      move();
      if(offsetTop+100 > chroY || offsetTop < 0){
        y = -y;
      }
      if(offsetLeft+100 > chroX || offsetLeft <0){
        x = -x;
      }
    },10)
  }
  fl.onmouseenter = function(){
    clearInterval(timer)
  }
  fl.onmouseleave = function(){
    window.onload();
  }
</script>
</body>
</html>